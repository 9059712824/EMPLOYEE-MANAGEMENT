@model EMPLOYEE_MANAGEMENT.Models.UserDetails

@{
    ViewBag.Title = "UserDetails";
}

<h1>Employee Details</h1>
<div class="mb-3">
        <label for="" class="form-label ">FirstName</label>
        <input type="text" class="form-control no-highlight" id="FirstName" asp-for="FirstName" required disabled >
    </div>
    <div class="mb-3">
        <label for="" class="form-label">LastName</label>
    <input type="text" class="form-control no-highlight" id="FirstName" asp-for="LastName" required disabled>
    </div>
    <div class="mb-3">
        <label for="" class="form-label">Number</label>
    <input type="number" class="form-control no-highlight " id="Number" asp-for="Number" required disabled>
    </div>
    <div class="mb-3">
        <label for="Gender" class="form-label">Gender</label>
    <select class="form-control no-highlight" id="Gender" asp-for="Gender" required disabled>
            <option value="">--select an option--</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
        </select>
    </div>

    <div class="mb-3">
        <label for="DOB" class="form-label">DOB</label>
    <input type="text" class="form-control no-highlight" id="DOB" asp-for="DOB" onchange="calculateAge()" required disabled>
    </div>
    <div class="mb-3">
        <label for="Age" class="form-label">Age</label>
        <input type="number" class="form-control no-hightlight" id="Age" asp-for="Age" required disabled>
    </div>
    <div class="mb-3">
        <label for="Address" class="form-label">Address</label>
        <input type="text" class="form-control no-highlight" id="Address" asp-for="Address" required disabled>
    </div>
    <div class="mb-3">
        <label for="Salary" class="form-label">Salary</label>
    <input type="number" class="form-control no-highlight" id="Salary" asp-for="Salary" required disabled>
    </div>
    <div class="mb-3">
        <label for="Department" class="form-label">Department</label>
    <input type="text" class="form-control no-highlight" id="Department" asp-for="Department" required disabled>
    </div>
    <a href="@Url.Action("Index")" button type="submit" class="btn btn-primary">Back</a>
<script>
    $(document).ready(function () {
        $('.no-highlight').on('mousedown', function (e) {
            e.preventDefault();
        });
    });
</script>
<script>
    $(document).ready(function () {
        $('.no-highlight').on('mousedown', function (e)) {
            e.preventDefault();
        });

        $('#DOB').on('change', function () {
            calculateAge();
        });
    });

    function calculateAge() {
        var dobInput = $('#DOB').val();
        var dob = new Date(dobInput);
        var currentDate = new Date();

        var age = currentDate.getFullYear() - dob.getFullYear();

        if (currentDate.getMonth() < dob.getMonth()) {
            age--;
        } else if (currentDate.getMonth() === dob.getMonth() && currentDate.getDate() < dob.getDate()) {
            age--;
        }

        $('#Age').val(age);
    }
</script>